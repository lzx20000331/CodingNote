---
outline: deep
---

# 命名空间(namespace)

在 ES 模块诞生之前，namespace 作为 TypeScript 自己的模块格式而发明的。**自从有了 ES 模块，官方已经不推荐使用 namespace** 了。

```ts
namespace Animals {
  export class Cat {}
}
namespace Animals {
  export interface Legged {
    numberOfLegs: number;
  }
  export class Dog {}
}

// 等同于
namespace Animals {
  export interface Legged {
    numberOfLegs: number;
  }
  export class Cat {}
  export class Dog {}
}
```

## 基本用法

## 输出

## 合并

### 与 namespace 合并

- 多个同名的 namespace 会自动合并，这一点跟 interface 一样。

```ts
namespace Animals {
  export class Cat {}
}
namespace Animals {
  export interface Legged {
    numberOfLegs: number;
  }
  export class Dog {}
}

// 等同于
namespace Animals {
  export interface Legged {
    numberOfLegs: number;
  }
  export class Cat {}
  export class Dog {}
}
```

- 合并命名空间时，命名空间中的非`export`的成员不会被合并，但是它们只能在各自的命名空间中使用。

```ts

```

### 与同名函数合并

命名空间还可以跟同名函数合并，但是要求同名函数必须在命名空间之前声明。这样做是为了确保**先创建出一个函数对象，然后同名的命名空间就相当于给这个函数对象添加额外的属性**。

```ts
function f() {
  return f.version;
}

namespace f {
  export const version = "1.0";
}

f(); // '1.0'
f.version; // '1.0'
```

### 与同名 class 合并

要求 class 必须在命名空间之前声明，原因同上

```ts
class C {
  foo = 1;
}

namespace C {
  export const bar = 2;
}

C.bar; // 2
```

### 与同名 Enum 合并

```ts
enum E {
  A,
  B,
  C,
}

namespace E {
  export function foo() {
    console.log(E.C);
  }
}

E.foo(); // 2
```

Enum 成员与命名空间导出成员不允许同名

```ts
enum E {
  A, // 报错
  B,
}

namespace E {
  export function A() {} // 报错
}
```
